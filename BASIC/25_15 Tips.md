## 1. Optional Unwrapping
두 개(o1, o2)가 모두 nil이 아닐 경우 //reached, 하나라도 nil일 경우 return문
조건들이 모두 만족하면(true) 통과

```swift
var optional1: Int?
var optional2: Int?

// 1- Ugly Code
func unwrap() {
  if let o1 = optional1 {
    if let o2 = optional2 {
      //reached
    }
  }
}

// 2- Clean Code
func unwrap() {
  guard let o1 = optional1, o2 = optional2 else { return }
  // reached 
}
```


## 2. 삼항연산자
조건 로직을 한 줄로 줄이기

```swift
// clean code
let myBool = true
let testBool = myBool ? false : true // false
let testInt = myBool ? 16 : 8 // 16

// dirty code 
if myBool {
  testInt = 16
}else {
  testInt = 8
}
```


## 3. Generic
추상화함으로써 버그 줄이고 코드 간결화

```swift
// dirty code
var strings = ["A", "B", "C", "D", "E"]
var integers = [1, 2, 3, 4, 5]

func printStrings(_ array: [String]){
  for s in array {
    print(s)
  }
}

func printIntegers(_ array: [Int]){
  for i in array {
    print(s)
  }
}

printStrings(strings) 
printIntegers(integers)  

// clean code
func printArray<T>(_ array: [T]){
  for item in array {
    print(item)
  }
}
```

## 4.Hex Code로부터 UI컬러 얻기
UIColor + Extension 을 통해 초기화한다음에 커스텀

```swift
import UIKit

extension UIColor {
  convenience init(hex: Int, alpha: CGFloat = 1.0) {
    self.init(
      red:   CGFloat((hex & 0xFF0000) >> 16) / 255.0,
      green: CGFloat((hex & 0x00FF00) >> 8)  / 255.0,
      blue:  CGFloat((hex & 0x0000FF) >> 0)  / 255.0,
      alpha: alpha
    )
  }
}

let green = UIColor(hex: 0x1faf46)
let red = UIColor(hex: 0xfe5960)
let blue = UIColor(hex: 0x0079d5)

```

## 5. Extension 사용하기
자주 사용하는 패턴에 익스텐션을 만들어서 사용
UIbutton 클래스에 press함수를 커스텀하여 애니메이션을 추가

```swift
import UIKit

extension UIButton {
  func press(completion: @escaping() -> ()){
    UIView.animate(withDuration: 0.125, delay: 0, options: [.curveEaseIn], animations: {
            self.transform = CGAffineTransform(scaleX: 0.94, y: 0.94)
        }, completion: { _ in
            UIView.animate(withDuration: 0.125, delay: 0, options: [.curveEaseIn], animations: {
                self.transform = .identity
            }, completion: { _ in
                completion()
            })
        })
  }
}

let myButton = UIButton()
myButton.press(){
  // handle completion 
}
```

## 6. 여러 곳에서 호출하는 백엔드함수를 하나의 클래스로 모으기
3곳을 변경해주어야 하는 것을 1곳만 변경하게끔 만들 수 있다

```swift
// dirty code
class MyClass1 {
  init() {
    FAB.update() // 구글의 firebase
  }
}

class MyClass2 {
  init() {
    FAB.update() // 구글의 firebase
  }
}

class MyClass3 {
  init() {
    FAB.update() // 구글의 firebase
  }
}

// clean code
class Network {
  func updateData() {
    FAB.update()
  }
}

class MyClass1 {
  init() {
    Network.updateData()
  }
}

class MyClass2 {
  init() {
    Network.updateData()
  }
}

class MyClass3 {
  init() {
    Network.updateData()
  }
}
```

## 7. guard let 
guard문은 단순히 옵셔널 값을 언랩핑할 뿐만 아니라 조건 로직을 심플하게 바꿀 수 있다

```swift
// case 1. nil checking
func checkText() {

  guard let text = textField.text else {
    return 
  }
  
  updateLabel(text)
}

// case 2. conditional checking
func conditionalCheck() {
  let c1 = true
  let c2 = false
  let c3 = true
  let c4 = true
  
  guard c1, c2, c3, c4 else {
    return 
  }
}

// case 3. multiple validation checking
func validatePassword(_ password: String) -> Bool {

  guard password.count >= 8 else { return false }
  guard password.count <= 15 else { return false }
  guard checkPasswordCharacters(password) else { return false } // ex. must contain special character, capital, small letters
  
  // password is valid
  return true
}
```

## 8. 반복문

```swift
// while
var i = 0
while i < 5 {
  print(i) // 0, 1, 2, 3, 4
  i += 1
}

// repeat
var a = 0
repeat {
  print(a) // 0 1 2 3 4
  a += 1
} while a < 5

// for loop 
for c in 0...5 {
  print(c) // 0 1 2 3 4 5
}

// for loop (no variable)
for _ in 0...3 {
  print("count") // count count count count
}

// for loop (less than)
for d in 0..<5 {
  print(d) // 0 1 2 3 4
}

// for loop (reversed)
for z in (1..<10).reversed() {
  print(z) // 9 8 7 6 5 4 3 2 1
}

// for loop (stride)
for g in stride(from: 1, to: 10, by: 3) {
  print(g) // 1 4 7 
}

// for loop (stride, reversed)
for k in stride(from: 3, to: 0, by: -1) {
  print(k) // 3 2 1
}
```

## 9. Enum을 사용하여 Switch문에서 안전하게 타입 바꾸기
직접 문자열을 이용하여 분기하면 런타입 과정에서 문제가 생길 수 있음

```swift
// dirty code
var marketShare: Int!
let operatingSystem = "iOS"

switch operatingSystem {
  case "iOS": marketShare = 30
  case "android": marketShare = 45
  case "windows": marketShare = 15
  case "selfish": marketShare = 8
  case "ubuntu": marketShare = 2
  default: marketShare = 0
}

// clean code
enum OS { case iOS, android, windows, selfish, ubuntu }

var marketShare_: Int!
let operatingSystem+ = OS.iOS

switch operatingSystem {
  case .iOS: marketShare_ = 30 
  case .android: marketShare_ = 45
  case .windows: marketShare_ = 15
  case .selfish: marketShare_ = 8
  case .ubuntu: marketShare_ = 2
}
```








